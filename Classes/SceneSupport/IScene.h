#ifndef ISCENE_H
#define ISCENE_H

/*-----------------------------------------------
	ファイル名　IScene.h
	作成者		小林　大峰
	各シーンの大元
-----------------------------------------------*/

#include "cocos2d.h"
USING_NS_CC;

//シーン列挙
enum SCENESTATE{
	FADEIN = 0,
	MAIN,
	FADEOUT,
	SCENEEND
};


class IScene : public LayerGradient
{
protected:
	/*------------------------------------------------------------------
	更新関数ポインタ
	------------------------------------------------------------------*/
	void(IScene::*updateFunc[SCENESTATE::SCENEEND])(float at);

	SCENESTATE mSceneState;


public:
	/*------------------------------------------------------------------
		生成関数
	------------------------------------------------------------------*/
	static Scene* createScene();

	/*------------------------------------------------------------------
		コンストラクタ
	------------------------------------------------------------------*/
	IScene();
	/*------------------------------------------------------------------
		デストラクタ
	------------------------------------------------------------------*/
	virtual ~IScene(){};
	
	/*------------------------------------------------------------------
		初期化
	------------------------------------------------------------------*/
	virtual bool init() = 0;

	/*------------------------------------------------------------------
		更新関数（メイン）
	------------------------------------------------------------------*/
	virtual void update(float deltaTime) = 0;

	/*------------------------------------------------------------------
		更新関数
		シーンの状態によって更新する関数を変える
		・fadeIn	・sceneMain		・fadeOut
	--------------------------------------------------------------------
		シーン始め
	-------------------------------------------------------------------*/
	virtual void fadeIn(float at){};
	
	
	/*------------------------------------------------------------------
		ゲームメイン更新
	-------------------------------------------------------------------*/
	virtual void sceneMain(float at){};
	
	/*------------------------------------------------------------------
		シーン終了
	------------------------------------------------------------------*/
	virtual void fadeOut(float at){};

};

#endif